{"version":3,"sources":["../node_modules/stage-fright/src/js/lib/notes.js","../node_modules/stage-fright/src/js/lib/navigation.js","main.js","../node_modules/stage-fright/src/js/lib/helpers.js","../node_modules/stage-fright/src/js/lib/matrix.js","../node_modules/stage-fright/src/js/lib/init.js","../node_modules/stage-fright/src/js/lib/translate.js","../node_modules/stage-fright/src/js/lib/progress.js","../node_modules/stage-fright/src/js/lib/keys.js","../node_modules/stage-fright/src/js/lib/overview.js","../node_modules/stage-fright/src/js/lib/core.js","../node_modules/stage-fright/src/js/stage-fright.js"],"names":["Math","floor","Number","isInteger","navigator","serviceWorker","register","then","reg","onupdatefound","installing","installingWorker","onstatechange","state","controller","document","createElement","swUpdated","classList","add","setAttribute","textContent","body","appendChild","swOffline","console","error","catch","e","nodeMap","Array","prototype","map","call","nodes","cb","idleRun","window","requestIdleCallback","Date","now","setTimeout","didTimeout","timeRemaining","max","start","getActiveSlide","location","hash","split","shift","section","parseInt","slide","fragment","Matrix","constructor","currentScript","src","script","length","buildOptions","search","substr","_script","path","_options","options","_notes","_raw","stage","querySelector","groups","querySelectorAll","slides","_slides","group","concat","fragments","f","wrapper","parentNode","replaceChild","notes","note","existing","opt","decodeURI","replace","JSON","parse","obj","parseFloat","value","toString","Object","assign","opts","init","isNaN","active","history","pushState","translate","s","p","i","style","transform","nav","next","matrix","previous","left","right","move","mv","updateProgress","fragmentTotal","sendMessage","position","sectionTotal","slideTotal","sendNotes","sec","sld","nextSection","lastSlide","previousSection","isArray","activeFragments","removeAttribute","frag","inactiveFragment","sectionLength","last","openNotes","go","currentFragment","slideMessage","open","locale","origin","pathname","innerHTML","html","timing","getTime","diff","clock","toLocaleTimeString","hour12","hour","minute","timePad","hours","minutes","second","seconds","time","str","substring","update","setInterval","timer","addEventListener","clearInterval","runningClock","target","postMessage","message","event","originalEvent","data","notesMessage","opener","source","keyCode","slideCurrent","sectionCurrent","fragmentCurrent","current","contentWindow","upcoming","log","progress","forEach","sections","href","opacity","getAttribute","transitionProperty","node","keys","hasAttribute","overview","closest","removeClick","removeEventListener","addClick","innerWidth","innerHeight","scrollWidth","scrollHeight","wwidth","width","wheight","height","wratio","hratio","transformOrigin","hwidth","scale","stageFright","listen","responsive","documentElement","fontSize"],"mappings":"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","file":"../js/main.js","sourcesContent":["import nav from './navigation';\nimport {getActiveSlide} from './helpers';\n\nexport function openNotes(matrix) {\n  const active = {\n    go: getActiveSlide(),\n  };\n\n  const fragmentTotal = matrix.slides[active.go.section][active.go.slide].length - 1;\n  let currentFragment = active.go.fragment;\n  if (Number.isInteger(fragmentTotal) && isNaN(active.go.fragment)) {\n    currentFragment = 0;\n  }\n\n  const position = {\n    position: {\n      section: active.go.section + 1,\n      slide: active.go.slide + 1,\n      fragment: currentFragment,\n      fragmentTotal: fragmentTotal,\n      sectionTotal: matrix.slides.length,\n      slideTotal: matrix.slides[active.go.section].length,\n    }\n  };\n  const locale = window.location;\n\n  // Active navigation from speaker notes\n  slideMessage(matrix);\n\n  const notes = window.open(`${locale.origin}${locale.pathname}?notes=true`, 'Stage Fright - Notes', 'width=1100,height=700');\n\n  setTimeout(() => {\n    sendMessage(notes, active);\n    sendMessage(notes, position);\n    sendNotes(active.go.section, active.go.slide, matrix);\n  }, 1000);\n\n  return notes;\n}\n\nexport function body() {\n  const locale = window.location;\n  const html = `\n<style>\n  body {\n    margin: 0;\n    padding: 0;\n  }\n</style>\n<div class=\"_speaker-notes\">\n  <!-- Slide Preview -->\n  <!-- Current Slide -->\n  <div class=\"_speaker-notes--current\">\n    <iframe class=\"_speaker-notes--current-slide\" src=\"${locale.origin}${locale.pathname}?progress=false&responsive=true&listen=true${locale.hash}\" frameborder=\"0\" height=\"1024\" width=\"1280\"></iframe>\n  </div>\n\n  <!-- Upcoming Slide Slide -->\n  <div class=\"_speaker-notes--upcoming\">\n    <span class=\"_speaker-notes--label\">Upcoming:</span>\n    <iframe class=\"_speaker-notes--upcoming-slide\" src=\"${locale.origin}${locale.pathname}?progress=false&responsive=true&listen=true${locale.hash}\" frameborder=\"0\" height=\"1024\" width=\"1280\"></iframe>\n  </div>\n\n  <!-- Controls -->\n  <div class=\"_speaker-notes--controls\">\n    <div class=\"controls\">\n      <div class=\"controls--time\">\n        <h4 class=\"controls--label\">Time <span class=\"controls--reset\">Click to Reset</span></h4>\n        <div class=\"timer\">\n          <span class=\"timer--hours\">00</span><span class=\"timer--minutes\">:00</span><span class=\"timer--seconds\">:00</span>\n        </div>\n        <div class=\"clock\">\n          <span class=\"clock--value\">0:00 AM</span>\n        </div>\n        <div class=\"controls--clear\"></div>\n      </div>\n      <div class=\"controls--position\">\n        <p class=\"controls--fragment\">Fragment <span class=\"controls--fragment-current\"></span>/<span class=\"controls--fragment-total\"></span></p>\n\n        <p class=\"controls--slide\">Slide <span class=\"controls--slide-current\"></span>/<span class=\"controls--slide-total\"></span></p>\n\n        <p class=\"controls--section\">Section <span class=\"controls--section-current\"></span>/<span class=\"controls--section-total\"></span></p>\n\n      </div>\n    </div>\n  </div>\n\n  <article class=\"_speaker-notes--notes\">\n    <div class=\"slide-notes\">\n      <h4 class=\"slide-notes--label\">Notes</h4>\n      <div class=\"slide-notes--content\"></div>\n    </div>\n  </article>\n\n</div>\n`;\n  document.body.innerHTML = html;\n  return html;\n}\n\nexport function sendNotes(section, slide, matrix) {\n  let notes = document.querySelector(`[data-slide=\"${slide}\"][data-section=\"${section}\"] ._stage--notes`);\n  if (notes) {\n    notes = notes.innerHTML;\n  }\n  else {\n    notes = '<p></p>';\n  }\n\n  sendMessage(matrix.notes, {\n    notes,\n  });\n\n  return notes;\n}\n\nexport function timing() {\n  const clock = document.querySelector('.clock--value');\n  const hour = document.querySelector('.timer--hours');\n  const minute = document.querySelector('.timer--minutes');\n  const second = document.querySelector('.timer--seconds');\n  const timer = document.querySelector('.controls--time');\n  let start = new Date();\n\n  update();\n  let runningClock = setInterval(update, 1000);\n\n  timer.addEventListener('click', e => {\n    start = new Date();\n\n    clearInterval(runningClock);\n\n    hour.textContent = timePad(0);\n    minute.textContent = `:${timePad(0)}`;\n    second.textContent = `:${timePad(0)}`;\n\n    runningClock = setInterval(update, 1000);\n  });\n\n  function update() {\n    const now = new Date();\n\n    const diff = now.getTime() - start.getTime();\n    const hours = Math.floor(diff / (1000 * 60 * 60));\n    const minutes = Math.floor((diff / (1000 * 60)) % 60);\n    const seconds = Math.floor((diff / (1000)) % 60);\n\n    clock.textContent = now.toLocaleTimeString('en-US', {\n      hour12: false,\n      hour: '2-digit',\n      minute: '2-digit',\n    });\n    hour.textContent = timePad(hours);\n    minute.textContent = `:${timePad(minutes)}`;\n    second.textContent = `:${timePad(seconds)}`;\n\n    if (hours <= 0) {\n      hour.setAttribute('data-mute', true);\n    }\n    else {\n      hour.removeAttribute('data-mute');\n    }\n\n    if (minutes <= 0) {\n      minute.setAttribute('data-mute', true);\n    }\n    else {\n      minute.removeAttribute('data-mute');\n    }\n  }\n\n  function timePad(time) {\n    const str = `00${parseInt(time)}`;\n    return str.substring(str.length - 2);\n  }\n}\n\nexport function sendMessage(target, message) {\n  const locale = window.location;\n  if (target) {\n    target.postMessage(message, locale.origin);\n  }\n}\n\nexport function slideMessage(matrix) {\n  window.addEventListener('message', e => {\n    const origin = e.origin || event.originalEvent.origin;\n    if (origin !== window.location.origin) {\n      return;\n    }\n\n    if (e.data.move) {\n      return nav[e.data.move](matrix);\n    }\n  }, false);\n}\n\nexport function notesMessage() {\n  const current = document.querySelector('._speaker-notes--current-slide');\n  const upcoming = document.querySelector('._speaker-notes--upcoming-slide');\n\n  // Position\n  const fragments = document.querySelector('.controls--fragment');\n  const fragmentCurrent = document.querySelector('.controls--fragment-current');\n  const fragmentTotal = document.querySelector('.controls--fragment-total');\n  const slideCurrent = document.querySelector('.controls--slide-current');\n  const slideTotal = document.querySelector('.controls--slide-total');\n  const sectionCurrent = document.querySelector('.controls--section-current');\n  const sectionTotal = document.querySelector('.controls--section-total');\n\n  // Notes\n  const notes = document.querySelector('.slide-notes--content');\n\n  // Source\n  const source = window.opener;\n\n  sendMessage(source, 'Speaker Notes Opened');\n\n  document.addEventListener('keydown', e => {\n    // console.log(source);\n    // Up Arrow, Page Up\n    if (e.keyCode === 38 || e.keyCode === 33) {\n      sendMessage(source, {move: 'previous'});\n    }\n\n    // Down Arrow, Page Down, Spacebar\n    if (e.keyCode === 40 || e.keyCode === 34 || e.keyCode === 32) {\n      sendMessage(source, {move: 'next'});\n    }\n  });\n\n  window.addEventListener('message', e => {\n    const origin = e.origin || event.originalEvent.origin;\n    if (origin !== window.location.origin) {\n      return;\n    }\n\n    if (e.data.position) {\n\n      slideCurrent.textContent = e.data.position.slide;\n      slideTotal.textContent = e.data.position.slideTotal;\n\n      sectionCurrent.textContent = e.data.position.section;\n      sectionTotal.textContent = e.data.position.sectionTotal;\n\n      if (Number.isInteger(e.data.position.fragmentTotal)) {\n        fragments.setAttribute('data-active', true);\n\n        let frag = e.data.position.fragment;\n\n        fragmentCurrent.textContent = e.data.position.fragment;\n        fragmentTotal.textContent = e.data.position.fragmentTotal;\n      }\n      else {\n        fragments.removeAttribute('data-active');\n        fragmentCurrent.textContent = 1;\n        fragmentTotal.textContent = 1;\n      }\n    }\n\n    if (e.data.move) {\n      sendMessage(current.contentWindow, {move: e.data.move});\n      sendMessage(upcoming.contentWindow, {move: e.data.move});\n    }\n\n    if (e.data.go) {\n      console.log(e.data.go);\n      let hash = `#/${e.data.go.section}/${e.data.go.slide}`;\n      if (e.data.go.fragment) {\n        hash += `/${e.data.go.fragment}`;\n      }\n\n      current.src = current.src + hash;\n      upcoming.src = upcoming.src + hash;\n      sendMessage(upcoming.contentWindow, {move: 'next'});\n    }\n\n    if (e.data.notes) {\n\n      notes.innerHTML = e.data.notes;\n    }\n  }, false);\n}\n","import {getActiveSlide} from './helpers';\nimport {updateProgress} from './progress';\nimport translate from './translate';\nimport {sendMessage, sendNotes} from './notes';\n\nexport default class {\n  static next(matrix, notes) {\n    const active = getActiveSlide();\n    let section = active.section;\n    let slide = active.slide;\n    let fragment = active.fragment;\n\n    return next(section, slide, fragment, matrix);\n  }\n\n  static previous(matrix, notes) {\n    const active = getActiveSlide();\n    let section = active.section;\n    let slide = active.slide;\n    let fragment = active.fragment;\n\n    return previous(section, slide, fragment, matrix);\n  }\n\n  static left(matrix, notes) {\n    const active = getActiveSlide();\n    let section = active.section;\n    let slide = active.slide;\n    let fragment = active.fragment;\n\n    return left(section, slide, fragment, matrix);\n  }\n\n  static right(matrix, notes) {\n    const active = getActiveSlide();\n    let section = active.section;\n    let slide = active.slide;\n    let fragment = active.fragment;\n\n    return right(section, slide, fragment, matrix);\n  }\n\n  static move(section, slide, fragment) {\n    // console.log(section);\n    // console.log(slide);\n    // console.log(fragment);\n    // updateProgress(section, slide, fragment);\n    return translate(section, slide, fragment);\n  }\n}\n\nfunction move(mv) {\n  let path = `#/${mv.section}/${mv.slide}`;\n  const fragments = document.querySelector(`[data-slide=\"${mv.slide}\"][data-section=\"${mv.section}\"]`).querySelectorAll('.fragment[data-active]').length;\n\n  if (isNaN(mv.fragment)) {\n    updateProgress(mv.section, mv.slide);\n    translate(mv.section, mv.slide);\n    if (fragments !== 0) {\n      updateProgress(mv.section, mv.slide, fragments);\n      mv.fragment = fragments;\n      path += `/${fragments}`;\n    }\n  }\n  else {\n    updateProgress(mv.section, mv.slide, mv.fragment);\n    if (mv.fragment !== 0) {\n      path += `/${mv.fragment}`;\n    }\n  }\n\n  const fragmentTotal = mv.matrix.slides[mv.section][mv.slide].length - 1;\n  if (Number.isInteger(fragmentTotal) && isNaN(mv.fragment)) {\n    mv.fragment = 0;\n  }\n\n  history.pushState(null, null, path);\n  sendMessage(mv.matrix.notes, {\n    position: {\n      section: mv.section + 1,\n      slide: mv.slide + 1,\n      fragment: mv.fragment,\n      fragmentTotal: fragmentTotal,\n      sectionTotal: mv.matrix.slides.length,\n      slideTotal: mv.matrix.slides[mv.section].length,\n    }\n  });\n\n  // controls--current-section\n  // controls--total-sections\n  sendNotes(mv.section, mv.slide, mv.matrix);\n\n  return {\n    section: mv.section,\n    slide: mv.slide,\n    fragment: mv.fragment,\n  };\n}\n\nfunction right(sec, sld, frag, matrix) {\n  let section = sec;\n  let slide = sld;\n  let fragment = frag;\n\n  sendMessage(matrix.notes, {\n    move: 'right',\n  });\n\n  section = nextSection(section, matrix);\n  if (slide > lastSlide(section, matrix)) {\n    slide = 0;\n  }\n\n  return move({section, slide, matrix});\n}\n\nfunction left(sec, sld, frag, matrix) {\n  let section = sec;\n  let slide = sld;\n  let fragment = frag;\n\n  sendMessage(matrix.notes, {\n    move: 'left',\n  });\n\n  section = previousSection(section);\n  if (slide > lastSlide(section, matrix)) {\n    slide = 0;\n  }\n\n  return move({section, slide, matrix});\n}\n\nfunction previous(sec, sld, frag, matrix) {\n  let section = sec;\n  let slide = sld;\n  let fragment = frag;\n\n  sendMessage(matrix.notes, {\n    move: 'previous',\n  });\n\n  if (Array.isArray(matrix.slides[section][slide])) {\n    let activeFragments = matrix.slides[section][slide][0].querySelectorAll('.fragment[data-active]');\n    if (activeFragments) {\n\n      const fragments = activeFragments.length - 1;\n      if (fragments >= 0) {\n        activeFragments[fragments].removeAttribute('data-active');\n        return move({section, slide, fragment: fragments, matrix});\n      }\n    }\n  }\n\n  slide -= 1;\n  if (slide < 0) {\n    section = previousSection(section);\n\n    if (section !== 0) {\n      slide = lastSlide(section, matrix);\n    }\n    else {\n      slide = 0;\n    }\n  }\n\n  return move({section, slide, matrix});\n}\n\nfunction next(sec, sld, frag, matrix) {\n  let section = sec;\n  let slide = sld;\n  let fragment = frag;\n  const sectionLength = matrix.slides.length;\n\n  sendMessage(matrix.notes, {\n    move: 'next',\n  });\n\n  if (Array.isArray(matrix.slides[section][slide])) {\n    let inactiveFragment = matrix.slides[section][slide][0].querySelector('.fragment:not([data-active])');\n    if (inactiveFragment) {\n      const fragments = matrix.slides[section][slide][0].querySelectorAll('.fragment[data-active]').length + 1;\n      inactiveFragment.setAttribute('data-active', true);\n\n      return move({section, slide, fragment: fragments, matrix});\n    }\n  }\n\n  slide += 1;\n  fragment = undefined;\n\n  if (slide > lastSlide(section, matrix)) {\n    section = nextSection(section, matrix);\n    let last = lastSlide(section, matrix);\n    if (section === sectionLength - 1 && slide > last) {\n      slide = last;\n    }\n    else if (section <= sectionLength - 1) {\n      slide = 0;\n    }\n  }\n\n  return move({section, slide, fragment, matrix});\n}\n\nfunction previousSection(sec) {\n  let section = sec;\n\n  section -= 1;\n  if (section < 0) {\n    section = 0;\n  }\n\n  return section;\n}\n\nfunction nextSection(sec, matrix) {\n  let section = sec;\n  const length = matrix.slides.length;\n\n  section += 1;\n  if (section >= length) {\n    section = length - 1;\n  }\n\n  return section;\n}\n\nfunction lastSlide(sec, matrix) {\n  let section = sec;\n  const length = matrix.slides[section].length;\n\n  return length - 1;\n}\n","import 'stage-fright';\n\n// // Prism\n// import '../node_modules/prismjs/prism';\n// import '../node_modules/prismjs/components/prism-bash';\n// import '../node_modules/prismjs/components/prism-javascript';\n// import '../node_modules/prismjs/components/prism-scss';\n","export function nodeMap(nodes, cb) {\n  return Array.prototype.map.call(nodes, cb);\n}\n\nexport function idleRun(cb) {\n  if ('requestIdleCallback' in window) {\n    window.requestIdleCallback(cb);\n  }\n  else {\n    const start = Date.now();\n    return setTimeout(() => {\n      cb({\n        didTimeout: false,\n        timeRemaining: () => {\n          return Math.max(0, 50 - (Date.now() - start));\n        }\n      });\n    }, 1);\n  }\n}\n\nexport function getActiveSlide() {\n  const hash = location.hash.split('/');\n  hash.shift();\n\n  return {\n    section: parseInt(hash[0]),\n    slide: parseInt(hash[1]),\n    fragment: parseInt(hash[2]),\n  };\n};\n","import {nodeMap} from './helpers';\n\nexport default class {\n  constructor() {\n    const script = document.currentScript.src.split('?');\n    const path = script[0];\n    let options = {};\n\n    // Script Options\n    if (script.length > 1) {\n      options = buildOptions(script[1]);\n    }\n\n    // Window Options\n    if (document.location.search) {\n      options = buildOptions(document.location.search.substr(1));\n    }\n\n    // console.log(options);\n\n    this._script = path;\n    this._options = options;\n    this._notes = false;\n\n    this._raw = {\n      stage: document.querySelector('._stage'),\n      groups: document.querySelectorAll('._stage--group'),\n      slides: document.querySelectorAll('._stage--slide'),\n    };\n\n    this._slides = nodeMap(this._raw.groups, group => {\n      const slides = group.querySelectorAll('._stage--slide');\n\n      return nodeMap(slides, slide => {\n        const fragments = slide.querySelectorAll('.fragment');\n\n        if (fragments.length === 0) {\n          return slide;\n        }\n\n        return [slide].concat(nodeMap(fragments, f => f));\n      });\n    });\n\n    // Rewrap stage\n    const wrapper = document.createElement('div');\n    const stage = this._raw.stage;\n    wrapper.classList.add('stage-fright');\n    stage.parentNode.replaceChild(wrapper, stage);\n    wrapper.appendChild(stage);\n  }\n\n  get slides() {\n    return this._slides;\n  }\n\n  get stage() {\n    return this._raw.stage;\n  }\n\n  get script() {\n    return this._script;\n  }\n\n  get options() {\n    return this._options;\n  }\n\n  get notes() {\n    return this._notes;\n  }\n\n  set notes(note) {\n    this._notes = note;\n    return note;\n  }\n}\n\nfunction buildOptions(opt, existing) {\n  let options = existing || {};\n  if (opt) {\n    const obj = `{\"${decodeURI(opt).replace(/&/g, '\",\"').replace(/=/g, '\":\"')}\"}`;\n    const opts = JSON.parse(obj, (key, value) => {\n      if (parseFloat(value).toString() === value) {\n        return parseFloat(value);\n      }\n\n      try {\n        return JSON.parse(value);\n      }\n      catch(e) {\n        return value;\n      }\n\n      return value;\n    });\n\n    options = Object.assign(opts, options);\n  }\n\n\n  return options;\n}\n","import {getActiveSlide} from './helpers';\n\nexport default function() {\n  const active = getActiveSlide();\n  let slide = 0;\n  let section = 0;\n\n  if (isNaN(active.section) || isNaN(active.slide)) {\n    history.pushState(null, null, `#/${section}/${slide}`);\n  }\n}\n","import {getActiveSlide} from './helpers';\n\nexport default function(s, p, f) {\n  const stage = document.querySelector('._stage');\n  let section = s;\n  let slide = p;\n  let fragment = f;\n\n  if (!(s && p) && s !== 0 && p !== 0) {\n    const active = getActiveSlide();\n    if (!s) {\n      section = active.section;\n    }\n    if (!p) {\n      slide = active.slide;\n    }\n  }\n\n  const fragments = document.querySelector(`[data-slide=\"${slide}\"][data-section=\"${section}\"]`).querySelectorAll('.fragment');\n  for (let i = 0; i < fragment; i++) {\n    fragments[i].setAttribute('data-active', true);\n  }\n\n  stage.style.transform = `translateX(${-100 * section}vw) translateY(${-100 * slide}vh)`;\n}\n","import {idleRun, getActiveSlide, nodeMap} from './helpers';\nimport translate from './translate';\nimport {sendMessage} from './notes';\n\nexport default function(matrix) {\n  idleRun(() => {\n    // Create Progress\n    const progress = document.createElement('nav');\n    progress.classList.add('progress');\n\n    // Get active slide\n    const active = getActiveSlide();\n\n    // Build Sections\n    let sections = 0;\n    matrix.slides.forEach(section => {\n      const sec = document.createElement('div');\n      sec.setAttribute('data-section', sections);\n      sec.classList.add('progress--section');\n\n      let slides = 0;\n      section.forEach(slide => {\n        const sld = document.createElement('a');\n        sld.href = `#/${sections}/${slides}`;\n        sld.classList.add('progress--slide');\n        sld.setAttribute('data-slide', slides);\n        sld.setAttribute('data-section', sections);\n        sld.setAttribute('tabindex', '-1');\n        sld.textContent = `Section ${sections}, Slide ${slides}`;\n\n        if (Array.isArray(slide)) {\n          sld.style.opacity = .5;\n          sld.setAttribute('data-fragments', slide.length - 1);\n        }\n\n        if (active.section === sections && active.slide === slides) {\n          sld.setAttribute('data-active', 'true');\n        }\n\n        sec.appendChild(sld);\n\n        if (Array.isArray(slide)) {\n          slide[0].setAttribute('data-slide', slides);\n          slide[0].setAttribute('data-section', sections);\n          if (active.section === sections && active.slide === slides) {\n            slide[0].setAttribute('data-active', true);\n          }\n        }\n        else {\n          slide.setAttribute('data-slide', slides);\n          slide.setAttribute('data-section', sections);\n          if (active.section === sections && active.slide === slides) {\n            slide.setAttribute('data-active', true);\n          }\n        }\n\n        slides++;\n      });\n\n      progress.appendChild(sec);\n\n      sections++;\n    });\n\n    if (matrix.options.progress !== false) {\n      document.body.appendChild(progress);\n    }\n\n    translate(active.section, active.slide, active.fragment);\n    updateProgress(active.section, active.slide, active.fragment);\n  });\n\n  window.addEventListener('hashchange', e => {\n    const active = getActiveSlide();\n    updateProgress(active.section, active.slide, active.fragment);\n    translate(active.section, active.slide, active.fragment);\n    sendMessage(matrix.notes, {\n      go: active,\n    });\n  });\n}\n\nexport function updateProgress(section, slide, fragment) {\n  const current = document.querySelectorAll('[data-active]:not(.fragment)');\n  const next = document.querySelectorAll(`[data-section=\"${section}\"][data-slide=\"${slide}\"`);\n  const progress = document.querySelector('.progress--slide[data-active]');\n\n  if (progress) {\n    if (fragment) {\n      const fragments = parseInt(progress.getAttribute('data-fragments'));\n      if (fragment === fragments) {\n        progress.style.transitionProperty = 'none';\n        progress.style.opacity = 1;\n      }\n      else {\n        progress.style.transitionProperty = 'none';\n        progress.style.opacity = .5;\n      }\n    }\n    else {\n      progress.style.transitionProperty = 'all';\n      nodeMap(current, node => {\n        node.removeAttribute('data-active');\n      });\n\n      nodeMap(next, node => {\n        node.setAttribute('data-active', 'true');\n      });\n    }\n  }\n}\n","import nav from './navigation';\nimport { openNotes } from './notes';\n\nexport default function(matrix) {\n  document.addEventListener('keydown', (e) => {\n    if (matrix.stage.hasAttribute('data-overlay')) {\n      return;\n    }\n\n    // Left Arrow\n    if (e.keyCode === 37) {\n      return nav.left(matrix);\n    }\n\n    // Right Arrow\n    if (e.keyCode === 39) {\n      return nav.right(matrix);\n    }\n\n    // Up Arrow, Page Up\n    if (e.keyCode === 38 || e.keyCode === 33) {\n      return nav.previous(matrix);\n    }\n\n    // Down Arrow, Page Down, Spacebar\n    if (e.keyCode === 40 || e.keyCode === 34 || e.keyCode === 32) {\n      return nav.next(matrix);\n    }\n\n    // S\n    if (e.keyCode === 83) {\n      matrix.notes = openNotes(matrix);\n      return matrix;\n    }\n\n    return;\n  });\n}\n","import {nodeMap} from './helpers';\nimport {updateProgress} from './progress';\nimport translate from './translate';\n\nexport default function(matrix) {\n  let open = false;\n  const slides = matrix._raw.slides;\n\n  document.addEventListener('keydown', e => {\n    if (e.keyCode === 27) {\n      if (open) {\n        open = false;\n      }\n      else {\n        open = true;\n      }\n\n      // Translate back to active\n      if (open === false) {\n        matrix.stage.removeAttribute('data-overlay');\n        removeClick(slides);\n        translate();\n        return;\n      }\n\n      // Move to overview\n      const wwidth = window.innerWidth;\n      const wheight = window.innerHeight;\n      const width = matrix.stage.scrollWidth;\n      const height = matrix.stage.scrollHeight;\n      const wratio = wwidth / width;\n      const hratio = wheight / height;\n\n      if (wratio <= hratio) {\n        let offset = 64 / wratio;\n        let scale = wwidth / (width + offset);\n        matrix.stage.style.transform = `scale(${scale})`;\n        matrix.stage.style.transformOrigin = `32px ${height * wratio / 2 - 32}px`;\n      }\n      else {\n        let offset = 64 / hratio;\n        let scale = hwidth / (width + offset);\n        matrix.stage.style.transform = `scale(${scale})`;\n        matrix.stage.style.transformOrigin = `${width * hratio / 2 - 32}px 32px`;\n      }\n\n      matrix.stage.setAttribute('data-overlay', 'true');\n\n      // Make slides clickable\n      nodeMap(slides, slide => {\n        slide.addEventListener('click', addClick);\n      });\n\n      function addClick(e) {\n        const target = e.target.closest('[data-section][data-slide]');\n        let section = target.getAttribute('data-section');\n        let slide = target.getAttribute('data-slide');\n\n        removeClick(slides);\n        matrix.stage.removeAttribute('data-overlay');\n        history.pushState(null, null, `#/${section}/${slide}`);\n        updateProgress(section, slide);\n        translate(section, slide);\n        open = false;\n      }\n\n      function removeClick(slides) {\n        nodeMap(slides, slide => {\n          slide.removeEventListener('click', addClick);\n        });\n      }\n    }\n  });\n}\n","import Matrix from './matrix';\nimport init from './init';\nimport progress from './progress';\nimport keys from './keys';\nimport overview from './overview';\n\nimport {body, timing, notesMessage, slideMessage} from './notes';\n\nexport default function () {\n  const matrix = new Matrix();\n\n  if (!matrix.options.notes) {\n    init();\n    progress(matrix);\n    keys(matrix);\n    overview(matrix);\n  }\n  else {\n    body();\n    timing();\n    notesMessage();\n  }\n\n  if (matrix.options.listen) {\n    slideMessage(matrix);\n  }\n\n  if (matrix.options.responsive) {\n    document.documentElement.style.fontSize = '1.5vw';\n  }\n};\n","import stageFright from './lib/core.js'\n\nstageFright();\n"]}